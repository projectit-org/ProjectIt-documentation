<script>
    import Note from "../../../lib/notes/Note.svelte";
</script>

# The API Level

<Note><svelte:fragment slot="header">Parts of this documentation are outdated</svelte:fragment>
<svelte:fragment slot="content">
Sorry, ProjectIt / Freon is constantly in development, therefore parts of this section are outdated. 
In the future the documentation will be updated.
</svelte:fragment>
</Note>

Please, become acquainted with the [three levels of customization](/010_Intro/050_Three_Levels_of_Customization)
used by ProjectIt.
This section explains the 3rd of these three levels where you can customize ProjectIt in TypeScript.

## Customize a Pi-tool
Third level full adaptability *per concept* is currently possible for:

* [Editor](/030_Developing_a_Language/030_API_Level/010_Editor_API)
* [Validator](/030_Developing_a_Language/030_API_Level/040_Validator_API)
* [Typer](/030_Developing_a_Language/030_API_Level/050_Typer_API)

To add third level adaptability for the scoper, parser and unparser is one of the
entries in our [wish list](/010_Intro/090_Future_Developments).

## Adding your Own Files

As a convenience, ProjectIt generates templates for
your customization in the files `~/picode/editor/Custom<yourLanguageName>Projection.ts`, `~/picode/editor/Custom<yourLanguageName>Actions.ts`, etc
(`<yourLanguageName>` is a placeholder for the name of the language as defined in your .ast file). You can use
these files to add your own special elements.

The custom files can be renamed and/or 
put it in another location, or you can create your own set of custom projection files.
In that case, you need to adjust the file `~/picode/projectit/ProjectItConfiguration`.

```ts
// docu-project/config/ProjectitConfiguration.ts

// Generated by the ProjectIt Language Generator.
import { PiProjection, PiActions, PiTyperPart, PiStdlib } from "@projectit/core";
import { CustomDocuProjectActions, CustomDocuProjectProjection } from "../editor";
import { CustomDocuProjectTyperPart } from "../typer";
import { CustomDocuProjectValidator } from "../validator";
import { CustomDocuProjectStdlib } from "../stdlib";
import { DocuProjectCheckerInterface } from "../validator/gen";

/**
 * Class ProjectitConfiguration is the place where you can add all your customisations.
 * These will be used through the 'projectitConfiguration' constant by any generated
 * part of your language environment.
 */
class ProjectitConfiguration {
    // add your custom editor projections here
    customProjection: PiProjection[] = [new CustomDocuProjectProjection("manual")];
    // add your custom editor actions here
    customActions: PiActions[] = [new CustomDocuProjectActions()];
    // add your custom validations here
    customValidations: DocuProjectCheckerInterface[] = [new CustomDocuProjectValidator()];
    // add your custom type-providers here
    customTypers: PiTyperPart[] = [new CustomDocuProjectTyperPart()];
    // add extra predefined instances here
    customStdLibs: PiStdlib[] = [new CustomDocuProjectStdlib()];
}

export const projectitConfiguration = new ProjectitConfiguration();

```

## Replacing a Pi-tool
All parts can be *completely replaced* at the 3rd level, thereby completely
disregarding the default and definition levels.
This is done by implementing their respective interfaces.

For the scoper, parser and unparser this is currently the only way to customize.

* [scoper](/030_Developing_a_Language/030_API_Level/060_Scoper_API)
* [parser](/030_Developing_a_Language/030_API_Level/070_Reader_API)

### Pi-tool Interfaces
More information on the interfaces can be found here:
* [PiScoper](/060_Under_the_Hood/020_The_PiTool_Interfaces/020_PiScoper_Interface)
* [PiTyper](/060_Under_the_Hood/020_The_PiTool_Interfaces/050_PiTyper_Interface)
* [PiValidator](/060_Under_the_Hood/020_The_PiTool_Interfaces/040_PiValidator_Interface)
* [PiReader](/060_Under_the_Hood/020_The_PiTool_Interfaces/060_PiReader_Interface)
* [PiWriter](/060_Under_the_Hood/020_The_PiTool_Interfaces/070_PiWriter_Interface)
* [PiStdlib](/060_Under_the_Hood/020_The_PiTool_Interfaces/080_PiStandardlib_Interface)
